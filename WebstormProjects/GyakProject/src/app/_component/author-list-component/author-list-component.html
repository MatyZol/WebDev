<div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card my-2">
        <div class="card-header bg-primary text-white d-flex flex-row align-items-center">
          <div class="flex-grow-1">
          <i class="bi bi-feather"></i>
          Szerzők
          </div>
          <input class="form-control form-control-sm" placeholder="Keresés..." [style.width.ch]="30" [(ngModel)]="searchTerm">
        </div>
        <div class="card-body table-responsive p-0">
          <table class="table table-hover">
            <thead class="table-dark">
            <tr>
              <th>ID</th>
              <th>Keresztnév</th>
              <th>Vezetéknév</th>
              <th>Születési dátum</th>
              <th>Műveletek</th>
            </tr>
            </thead>
            <tbody>
              @for (author of authors | author: searchTerm; track author.authorID) {
                <tr>
                  <td>{{ author.authorID }}</td>
                  <td>{{ author.firstName }}</td>
                  <td>{{ author.lastName }}</td>
                  <td>{{ author.dateOfBirth }}</td>


                  <td>
                    <button class="btn btn-sm btn-outline-danger" (click)="delete(author.authorID)">
                      Törlés
                    </button>
                    <a class="btn btn-sm btn-outline-primary ms-2" [routerLink]="author.authorID.toString()">
                      Módosítás
                    </a>
                  </td>
                </tr>

              } @empty {
                <tr empty [colSpan]="5" [entity]="'szerző'"></tr>
              }
            </tbody>
          </table>

        </div>
        <div class="card-footer">
          <button class="btn btn-outline-primary float-end" [routerLink]="'create'">
            Szerző hozzáadása
          </button>
        </div>
      </div>
    </div>
  </div>

    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel">
      <div class="modal-dialog">
        <div class="modal-content bg-danger-subtle">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Szerző nem törölhető!</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            A szerző nem törölhető, mert könyv(ek) tartoznak hozzá!
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="closeModal()">Bezárás</button>

          </div>
        </div>
      </div>
    </div>



</div>
